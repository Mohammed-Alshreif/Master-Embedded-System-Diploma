/**
 ******************************************************************************
 * @file           : main.c
 * @author         : MOHAMMED Adel Alshreif
 * @brief          : Main program body
 ******************************************************************************
 ******************************************************************************
 */
#include "WS2812b_LED.h"
#define clk 36000000
uint16_t arr[3][8]={
		{155,0,0,255,0,0,50,20},
		{155,155,0,0,255,0,50,100},
		{0,0,255,155,0,155,34,55}};

uint8_t A[8][5] = {
		{1, 1, 1, 1, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 1, 1, 1, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
};
uint8_t O[8][5] = {
		{1, 1, 1, 1, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 1, 1, 1, 1}
};
uint8_t H[8][5] = {
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 1, 1, 1, 1},
		{1, 1, 1, 1, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1}
};
uint8_t E[8][5] = {
		{1, 1, 1, 1, 1},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 1, 1, 1, 1},
		{1, 1, 1, 1, 1},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 1, 1, 1, 1}
};
uint8_t M[8][5] = {
		{1, 1, 0, 1, 1},
		{1, 1, 0, 1, 1},
		{1, 1, 0, 1, 1},
		{1, 0, 1, 0, 1},
		{1, 0, 1, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1}
};
uint8_t D[8][5] = {
		{1, 1, 1, 0, 0},
		{1, 0, 0, 1, 0},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 1, 0},
		{1, 1, 1, 0, 0}
};
uint8_t sp[8][5] = {
		{0, 0, 0, 0, 0},
		{0, 0, 0, 0, 0},
		{0, 0, 0, 0, 0},
		{0, 0, 0, 0, 0},
		{0, 0, 0, 0, 0},
		{0, 0, 0, 0, 0},
		{0, 0, 0, 0, 0},
		{0, 0, 0, 0, 0}
};
uint8_t R[8][5] = {
		{1, 1, 1, 1, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 1, 1, 1, 1},
		{1, 1, 0, 0, 0},
		{1, 0, 1, 0, 0},
		{1, 0, 0, 1, 0},
		{1, 0, 0, 0, 1},
};
uint8_t T[8][5] = {
		{1, 1, 1, 1, 1},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
};
uint8_t S[8][5] = {
		{1, 1, 1, 1, 1},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 1, 1, 1, 1},
		{0, 0, 0, 0, 1},
		{0, 0, 0, 0, 1},
		{0, 0, 0, 0, 1},
		{1, 1, 1, 1, 1},
};
uint8_t C[8][5] = {
		{1, 1, 1, 1, 1},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 1, 1, 1, 1},
};
uint8_t L[8][5] =  {
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 1, 1, 1, 1}
};
uint8_t I[8][5] =  {
		{1, 1, 1, 1, 1},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
		{0, 0, 1, 0, 0},
		{1, 1, 1, 1, 1}
};
uint8_t N[8][5] =  {
		{1, 0, 0, 0, 1},
		{1, 1, 0, 0, 1},
		{1, 1, 0, 0, 1},
		{1, 0, 1, 0, 1},
		{1, 0, 1, 0, 1},
		{1, 0, 0, 1, 1},
		{1, 0, 0, 1, 1},
		{1, 0, 0, 0, 1}
};
uint8_t P[8][5] =  {
		{1, 1, 1, 0, 0},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 0, 0, 0, 1},
		{1, 1, 1, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0},
		{1, 0, 0, 0, 0}
};


uint8_t (*(POV_STRING[]))[8][5]={&L,&sp,&E,&sp,A,&sp,R,&sp,N,&sp,&sp,I,&sp,N,&sp,&sp,D,&sp,E,&sp,P,&sp,T,(void*)0};
uint8_t INDEX;

int main(void)
{
	WS2812b_LED_INIT();


	while(1){

		if(!READ_PIN(GPIOA, pin4))
		{
			delay(1, U_us, clk);
			//=========PRINT===========
			while( (*POV_STRING[INDEX])!=0)
			{
				for(int j=0;j<5;j++)
				{
					for (int i = 0; i < 8; i++)
					{
						if((*POV_STRING[INDEX])[i][j]){
							sendColor(255,0,255);//time --> 40us
						}
						else{
							sendColor(0,0,0);//time --> 40us
						}

					}//time --> 450us
					delay(TIME_DELAY, U_us, clk);//note time mine 55 us
				}
				INDEX++;
			}
		}
		else
		{
			for (int i = 0; i < 8; i++)
			{
				sendColor(0,0,0);//time --> 40us
			}
			delay(TIME_DELAY, U_us, clk);
		}
		INDEX=0;
	}
}
